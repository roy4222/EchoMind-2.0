(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4445:(e,t,a)=>{Promise.resolve().then(a.bind(a,7386))},7386:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>y});var s=a(5155),r=a(2115);function l(e){let{messages:t,isLoading:a,messagesEndRef:r}=e;return(0,s.jsxs)("div",{className:"flex-1 space-y-6 overflow-y-auto",children:[t.map((e,t)=>(0,s.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,s.jsx)("div",{className:"max-w-[80%] rounded-xl px-4 py-2 ".concat("user"===e.role?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white"),children:e.content})},t)),a&&(0,s.jsx)("div",{className:"flex justify-start",children:(0,s.jsx)("div",{className:"max-w-[80%] rounded-xl bg-gray-100 px-4 py-2 dark:bg-gray-800",children:(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("div",{className:"h-2 w-2 animate-bounce rounded-full bg-gray-400"}),(0,s.jsx)("div",{className:"h-2 w-2 animate-bounce rounded-full bg-gray-400",style:{animationDelay:"0.2s"}}),(0,s.jsx)("div",{className:"h-2 w-2 animate-bounce rounded-full bg-gray-400",style:{animationDelay:"0.4s"}})]})})}),(0,s.jsx)("div",{ref:r})]})}var n=a(2486);function i(e){let{onSubmit:t,isLoading:a}=e,[l,i]=(0,r.useState)(""),o=async e=>{e.preventDefault(),l.trim()&&!a&&(await t(l),i(""))};return(0,s.jsxs)("form",{onSubmit:o,className:"flex w-full items-center space-x-2 pt-4",children:[(0,s.jsxs)("div",{className:"relative flex-1",children:[(0,s.jsx)("input",{type:"text",value:l,onChange:e=>i(e.target.value),placeholder:"繼續對話...",className:"w-full rounded-xl border border-gray-200 bg-white/80 px-4 py-3 pr-10 text-gray-900 shadow-sm backdrop-blur-sm transition-all duration-300 placeholder:text-gray-400 focus:border-blue-500 focus:bg-white focus:outline-none focus:ring-1 focus:ring-blue-500 dark:border-gray-700 dark:bg-gray-800/80 dark:text-white dark:placeholder:text-gray-500 dark:focus:border-blue-400 dark:focus:bg-gray-800",disabled:a}),(0,s.jsx)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",children:"按下 Enter 發送"})]}),(0,s.jsx)("button",{type:"submit",disabled:a,className:"inline-flex h-12 w-12 items-center justify-center rounded-xl ".concat(a?"bg-gray-400 dark:bg-gray-700":"bg-gradient-to-r from-blue-500 to-blue-600 hover:shadow-xl hover:shadow-blue-500/35"," text-white shadow-lg shadow-blue-500/25 transition-all duration-300 dark:from-blue-400 dark:to-blue-500"),children:(0,s.jsx)(n.A,{className:"h-5 w-5"})})]})}var o=a(9923);let d=()=>{let[e,t]=(0,r.useState)("");return(0,r.useEffect)(()=>{t((()=>{let e=new Date().getHours();return e>=5&&e<12?"早安":12==e?"中午好":e>12&&e<18?"下午好":e>=18&&e<22?"晚上好":"永遠是深夜有多好"})())},[]),(0,s.jsxs)(o.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"text-center",children:[(0,s.jsxs)("h1",{className:"text-4xl font-bold tracking-tight text-gray-900 dark:text-white sm:text-5xl",children:[(0,s.jsx)(o.P.span,{initial:{backgroundPosition:"0% 50%"},animate:{backgroundPosition:"100% 50%"},transition:{duration:5,repeat:1/0,repeatType:"reverse"},className:"block text-transparent bg-clip-text bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 bg-[size:200%]",children:e}),(0,s.jsx)(o.P.span,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"mt-2 block",children:"歡迎使用 EchoMind"})]}),(0,s.jsx)(o.P.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.6},className:"mt-4 text-lg text-gray-600 dark:text-gray-300",children:"您的輔大資管好幫手，隨時為您服務"})]})};var c=a(7924),u=a(3311),h=a(463);function x(e){let{onSubmit:t,isLoading:a}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d,{}),(0,s.jsx)(i,{onSubmit:t,isLoading:a}),(0,s.jsxs)("div",{className:"flex flex-wrap justify-center gap-3",children:[(0,s.jsxs)("button",{className:"flex items-center gap-2 rounded-lg border border-gray-200 bg-white/50 px-4 py-2.5 text-sm text-gray-600 backdrop-blur-sm transition-all duration-300 hover:bg-white hover:shadow-md dark:border-gray-700 dark:bg-gray-800/50 dark:text-gray-300 dark:hover:bg-gray-800",children:[(0,s.jsx)(c.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"搜尋知識庫"})]}),(0,s.jsxs)("button",{className:"flex items-center gap-2 rounded-lg border border-gray-200 bg-white/50 px-4 py-2.5 text-sm text-gray-600 backdrop-blur-sm transition-all duration-300 hover:bg-white hover:shadow-md dark:border-gray-700 dark:bg-gray-800/50 dark:text-gray-300 dark:hover:bg-gray-800",children:[(0,s.jsx)(u.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"生成圖片"})]}),(0,s.jsxs)("button",{className:"flex items-center gap-2 rounded-lg border border-gray-200 bg-white/50 px-4 py-2.5 text-sm text-gray-600 backdrop-blur-sm transition-all duration-300 hover:bg-white hover:shadow-md dark:border-gray-700 dark:bg-gray-800/50 dark:text-gray-300 dark:hover:bg-gray-800",children:[(0,s.jsx)(h.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"智能助手"})]})]})]})}class g{async chat(e){let{messages:t,model:a=this.defaultModel,temperature:s=.7,maxTokens:r=2048,stream:l=!1}=e;try{try{let e=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:t,model:a,temperature:s,maxTokens:r,stream:l})});if(!e.ok)throw Error("API 請求失敗");let i=await e.json();if(!i.success){var n;throw Error((null===(n=i.error)||void 0===n?void 0:n.message)||"API 請求失敗")}return i.data}catch(e){console.error("API 請求失敗，使用模擬回應。",e)}return this.getMockResponse(t)}catch(e){throw console.error("聊天請求錯誤:",e),e}}getMockResponse(e){let t=e[e.length-1].content||"",a="";return a=t.includes("你好")||t.includes("嗨")||t.includes("哈囉")?"您好！很高興為您服務。我是輔仁大學資管系的AI助手EchoMind。有什麼我能幫助您的嗎？":t.includes("課程")||t.includes("學習")||t.includes("教學")?"輔仁大學資管系提供多樣化的課程，包括程式設計、資料庫管理、網路應用等。如果您有特定課程的問題，可以告訴我更多細節。":t.includes("專題")||t.includes("專案")||t.includes("project")?"資管系的專題是培養實務能力的重要環節。學生通常會在大三或大四時，組隊完成一個與資訊管理相關的專案，從需求分析、設計到實作都需要參與。":t.includes("就業")||t.includes("工作")||t.includes("職涯")?"資管系畢業生有多元的就業方向，包括：系統分析師、程式開發、資料分析師、專案管理、數位行銷等。根據近年調查，本系畢業生就業率相當高。":t.includes("老師")||t.includes("教授")||t.includes("師資")?"輔仁大學資管系擁有優秀的師資陣容，包括多位專精於不同領域的教授，如資料科學、人工智慧、電子商務、資訊安全等方面的專家。":t.includes("實習")||t.includes("產業實習")||t.includes("實務經驗")?"輔仁大學資管系重視學生的實務經驗，提供產業實習機會，讓學生能在實際工作環境中應用所學知識，培養專業技能和工作態度，增加就業競爭力。":t.includes("社團")||t.includes("學生活動")||t.includes("課外活動")?"輔仁大學提供豐富的學生活動和社團選擇，資管系學生可以參加相關的技術社團，如程式設計社、資料科學社等，也可以參與系上舉辦的各種活動，拓展人際關係和培養團隊合作能力。":t.includes("考研")||t.includes("研究所")||t.includes("深造")?"許多資管系學生畢業後選擇繼續深造，可報考資訊管理、資訊工程、企業管理等相關研究所。本系畢業生在研究所的表現普遍優秀，歷年考取國內外知名大學的比例較高。":t.includes("證照")||t.includes("考證")||t.includes("認證")?"資管系學生可以考取多種專業證照，如資料庫管理（Oracle、SQL Server）、網路（CCNA）、程式設計（OCPJP）、專案管理（PMP）、雲端服務（AWS、Azure）等證照，有助於提升就業競爭力。":t.includes("國際交流")||t.includes("交換生")||t.includes("留學")?"輔仁大學與全球多所大學有合作關係，資管系學生可以申請交換生計畫，前往國外大學學習一學期或一學年，拓展國際視野，提升語言能力和跨文化溝通能力。":t.includes("設備")||t.includes("實驗室")||t.includes("資源")?"資管系擁有多個專業實驗室，如雲端運算實驗室、資料科學實驗室、人工智慧實驗室等，提供先進的硬體設備和軟體資源，支援教學和研究需求。學生也可以使用這些資源進行專題研究和專案開發。":"您好！我是輔仁大學資管系的AI助手EchoMind。您的訊息是：「".concat(t,"」。我可以為您提供關於輔仁大學資管系的課程、師資、就業方向、專題等資訊。請問您想了解哪方面的內容呢？"),{id:"mock-"+Date.now(),object:"chat.completion",created:Math.floor(Date.now()/1e3),model:this.defaultModel,choices:[{message:{role:"assistant",content:a},index:0,finish_reason:"stop"}],usage:{prompt_tokens:0,completion_tokens:0,total_tokens:0}}}async streamChat(e){return this.chat({...e,stream:!0})}constructor(){this.defaultModel="llama-3.1-8b-instant"}}let m=new g;function b(){let[e,t]=(0,r.useState)([]),[a,n]=(0,r.useState)(!1),[o,d]=(0,r.useState)(!1),c=(0,r.useRef)(null),u=()=>{var e;null===(e=c.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})};(0,r.useEffect)(()=>{u()},[e]);let h=async s=>{if(!s.trim()||a)return;let r={role:"user",content:s.trim()};t(e=>[...e,r]),n(!0),o||d(!0);try{var l,i;let a=await m.chat({messages:[...e,r]}),s={role:"assistant",content:(null===(i=a.choices[0])||void 0===i?void 0:null===(l=i.message)||void 0===l?void 0:l.content)||"抱歉，我現在無法回答。"};t(e=>[...e,s])}catch(e){console.error("聊天發生錯誤:",e),t(e=>[...e,{role:"assistant",content:"抱歉，處理您的請求時發生錯誤。請稍後再試。"}])}finally{n(!1)}};return(0,s.jsx)("div",{className:"flex h-full flex-col",children:(0,s.jsx)("main",{className:"flex-1 overflow-hidden",children:(0,s.jsx)("div",{className:"relative flex h-full flex-col bg-dot-pattern dark:bg-dot-pattern-dark",children:(0,s.jsx)("div",{className:"flex min-h-[calc(100vh-5rem)] items-center justify-center px-4",children:(0,s.jsx)("div",{className:"w-full max-w-3xl space-y-8 py-12",children:o?(0,s.jsxs)("div",{className:"flex flex-col h-[calc(100vh-10rem)] justify-between",children:[(0,s.jsx)(l,{messages:e,isLoading:a,messagesEndRef:c}),(0,s.jsx)(i,{onSubmit:h,isLoading:a})]}):(0,s.jsx)(x,{onSubmit:h,isLoading:a})})})})})})}function y(){return(0,s.jsx)(b,{})}}},e=>{var t=t=>e(e.s=t);e.O(0,[829,441,684,358],()=>t(4445)),_N_E=e.O()}]);