exports.id=494,exports.ids=[494],exports.modules={4780:(e,r,t)=>{"use strict";t.d(r,{cn:()=>o});var s=t(49384),a=t(82348);function o(...e){return(0,a.QP)((0,s.$)(e))}},7901:(e,r,t)=>{"use strict";t.d(r,{AuthProvider:()=>u,A:()=>x});var s=t(60687),a=t(43210),o=t(86319),n=t(33784);let i=()=>{let[e,r]=(0,a.useState)(null),[t,s]=(0,a.useState)(!0),[i,l]=(0,a.useState)(null);return(0,a.useEffect)(()=>{let e=(0,o.hg)(n.j,async e=>{if(e)try{await e.reload(),r(e)}catch(e){console.error("重新載入用戶資料失敗:",e),l(e)}else r(null);s(!1)},e=>{console.error("認證狀態監聽錯誤:",e),l(e),s(!1)});return()=>e()},[]),{user:e,loading:t,error:i}};var l=t(52581);let c=()=>{let e=async e=>{try{await (0,o.oM)(n.j,e?o.F0:o.iM)}catch(e){throw console.error("設定持久化失敗:",e),e}};return{registerWithEmail:async({email:r,password:t,name:s})=>{try{await e(!0);let a=await (0,o.eJ)(n.j,r,t);return await (0,o.r7)(a.user,{displayName:s}),l.o.success("註冊成功！",{description:"歡迎加入 EchoMind",duration:3e3}),a.user}catch(e){throw d(e),e}},loginWithEmail:async({email:r,password:t,rememberMe:s=!1})=>{try{await e(s);let a=await (0,o.x9)(n.j,r,t);return l.o.success("登入成功！",{description:"歡迎回來",duration:3e3}),a.user}catch(e){throw d(e),e}},loginWithGoogle:async(r=!1)=>{try{await e(r);let t=new o.HF;t.setCustomParameters({prompt:"select_account"});let s=await (0,o.df)(n.j,t);return l.o.success("Google 登入成功！",{description:"歡迎回來",duration:3e3}),s.user}catch(e){throw d(e),e}},logout:async()=>{try{await (0,o.CI)(n.j),l.o.success("登出成功！",{description:"期待您的再次使用",duration:3e3})}catch(e){throw d(e),e}}}},d=e=>{let r=h(e.code);console.error("認證錯誤:",e),l.o.error("操作失敗",{description:r,duration:3e3})},h=e=>({"auth/email-already-in-use":"此電子郵件已被註冊","auth/invalid-email":"無效的電子郵件格式","auth/operation-not-allowed":"此登入方式未啟用","auth/weak-password":"密碼強度不足","auth/user-disabled":"此帳號已被停用","auth/user-not-found":"找不到此用戶","auth/wrong-password":"密碼錯誤","auth/popup-closed-by-user":"登入視窗被關閉","auth/popup-blocked":"登入視窗被阻擋","auth/cancelled-popup-request":"登入請求已取消","auth/network-request-failed":"網路連線失敗","auth/too-many-requests":"登入嘗試次數過多，請稍後再試","auth/requires-recent-login":"請重新登入以繼續操作","auth/account-exists-with-different-credential":"此電子郵件已使用其他登入方式註冊"})[e]||"發生未知錯誤，請稍後再試",m=(0,a.createContext)(null),x=()=>{let e=(0,a.useContext)(m);if(!e)throw Error("useAuth 必須在 AuthProvider 內使用");return e},u=({children:e})=>{let{user:r,loading:t,error:a}=i(),{registerWithEmail:o,loginWithEmail:n,loginWithGoogle:l,logout:d}=c();return t?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-gray-900 dark:border-white"})}):(0,s.jsx)(m.Provider,{value:{user:r,loading:t,error:a,registerWithEmail:o,loginWithEmail:n,loginWithGoogle:l,logout:d},children:e})}},23532:(e,r,t)=>{"use strict";t.d(r,{default:()=>U});var s=t(60687),a=t(41465),o=t(43210),n=t.n(o),i=t(21134),l=t(363),c=t(58869),d=t(84027),h=t(40083),m=t(10218),x=t(4780),u=t(85814),g=t.n(u);function f(e){return(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"transform transition-transform hover:scale-110",...e,children:[(0,s.jsx)("defs",{children:(0,s.jsxs)("filter",{id:"glow",children:[(0,s.jsx)("feGaussianBlur",{stdDeviation:"1",result:"blur"}),(0,s.jsx)("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]})}),(0,s.jsxs)("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",filter:"url(#glow)",children:[(0,s.jsxs)("path",{strokeDasharray:"36",strokeDashoffset:"36",d:"M13 4l7 0c0.55 0 1 0.45 1 1v14c0 0.55 -0.45 1 -1 1h-7",children:[(0,s.jsx)("animate",{fill:"freeze",attributeName:"stroke-dashoffset",dur:"0.6s",values:"36;0"}),(0,s.jsx)("animate",{attributeName:"opacity",dur:"2s",values:"0.4;1;0.4",repeatCount:"indefinite"})]}),(0,s.jsxs)("path",{strokeDasharray:"14",strokeDashoffset:"14",d:"M3 12h11.5",children:[(0,s.jsx)("animate",{fill:"freeze",attributeName:"stroke-dashoffset",begin:"0.7s",dur:"0.3s",values:"14;0"}),(0,s.jsx)("animate",{attributeName:"stroke-width",dur:"1.5s",values:"2;3;2",repeatCount:"indefinite"})]}),(0,s.jsxs)("path",{strokeDasharray:"6",strokeDashoffset:"6",d:"M14.5 12l-3.5 -3.5M14.5 12l-3.5 3.5",children:[(0,s.jsx)("animate",{fill:"freeze",attributeName:"stroke-dashoffset",begin:"1s",dur:"0.3s",values:"6;0"}),(0,s.jsx)("animate",{attributeName:"opacity",dur:"1.5s",values:"1;0.6;1",repeatCount:"indefinite",begin:"1.3s"})]})]})]})}let p=({isOpen:e=!1,className:r})=>{let{theme:t,systemTheme:a}=(0,m.D)(),[n,i]=(0,o.useState)(!1);return((0,o.useEffect)(()=>{i(!0)},[]),n)?(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:`w-6 h-6 ${r}`,fill:"none",stroke:"dark"===("system"===t?a:t)?"white":"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("path",{d:"M22 12c0-3.75 0-5.625-.955-6.939a5 5 0 0 0-1.106-1.106C18.625 3 16.749 3 13 3h-2c-3.75 0-5.625 0-6.939.955A5 5 0 0 0 2.955 5.06C2 6.375 2 8.251 2 12s0 5.625.955 6.939a5 5 0 0 0 1.106 1.106C5.375 21 7.251 21 11 21h2c3.75 0 5.625 0 6.939-.955a5 5 0 0 0 1.106-1.106C22 17.625 22 15.749 22 12m-7.5-8.5v17M19 7h-1.5m1.5 4h-1.5"}),(0,s.jsx)("path",{d:"m8 10l1.227 1.057c.515.445.773.667.773.943s-.258.498-.773.943L8 14"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("path",{d:"M2 12c0-3.75 0-5.625.955-6.939A5 5 0 0 1 4.06 3.955C5.375 3 7.251 3 11 3h2c3.75 0 5.625 0 6.939.955a5 5 0 0 1 1.106 1.106C22 6.375 22 8.251 22 12s0 5.625-.955 6.939a5 5 0 0 1-1.106 1.106C18.625 21 16.749 21 13 21h-2c-3.75 0-5.625 0-6.939-.955a5 5 0 0 1-1.106-1.106C2 17.625 2 15.749 2 12m7.5-8.5v17M5 7h1.5M5 11h1.5"}),(0,s.jsx)("path",{d:"m17 10l-1.226 1.057c-.516.445-.774.667-.774.943s.258.498.774.943L17 14"})]})}):(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:`w-6 h-6 ${r}`,fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("path",{d:"M22 12c0-3.75 0-5.625-.955-6.939a5 5 0 0 0-1.106-1.106C18.625 3 16.749 3 13 3h-2c-3.75 0-5.625 0-6.939.955A5 5 0 0 0 2.955 5.06C2 6.375 2 8.251 2 12s0 5.625.955 6.939a5 5 0 0 0 1.106 1.106C5.375 21 7.251 21 11 21h2c3.75 0 5.625 0 6.939-.955a5 5 0 0 0 1.106-1.106C22 17.625 22 15.749 22 12m-7.5-8.5v17M19 7h-1.5m1.5 4h-1.5"}),(0,s.jsx)("path",{d:"m8 10l1.227 1.057c.515.445.773.667.773.943s-.258.498-.773.943L8 14"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("path",{d:"M2 12c0-3.75 0-5.625.955-6.939A5 5 0 0 1 4.06 3.955C5.375 3 7.251 3 11 3h2c3.75 0 5.625 0 6.939.955a5 5 0 0 1 1.106 1.106C22 6.375 22 8.251 22 12s0 5.625-.955 6.939a5 5 0 0 1-1.106 1.106C18.625 21 16.749 21 13 21h-2c-3.75 0-5.625 0-6.939-.955a5 5 0 0 1-1.106-1.106C2 17.625 2 15.749 2 12m7.5-8.5v17M5 7h1.5M5 11h1.5"}),(0,s.jsx)("path",{d:"m17 10l-1.226 1.057c-.516.445-.774.667-.774.943s.258.498.774.943L17 14"})]})})};var v=t(16189),b=t(7901),y=t(30474);let j=({className:e})=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 48 48",className:e,children:(0,s.jsxs)("g",{fill:"none",children:[(0,s.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4",d:"M12 8c-3.052 4.517-5.987 5.81-8 5c.543 1.833 4.443 4.375 6.927 5.838c1.07.63 1.383 2.065.638 3.059C10.202 23.717 8.315 26.289 8 27C.954 39.79 16.482 44.648 24 44c22.144-1.908 21.355-19.197 18-26c-8.052 13.994-20.481 5.915-20 3s3.792-2.335 5-7C29.013 4.768 16.374.399 12 8"}),(0,s.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4",d:"M19 31c2.5 3.5 10 7 16 2"}),(0,s.jsx)("circle",{cx:"17",cy:"12",r:"2",fill:"currentColor"})]})}),w=({isSidebarOpen:e,onToggleSidebar:r})=>{let{theme:t,setTheme:a}=(0,m.D)(),[n,u]=(0,o.useState)(!1),[w,k]=(0,o.useState)(!1),N=(0,v.useRouter)(),{user:C,loading:P,logout:A}=(0,b.A)(),M=()=>{r(),u(!n)},L=async()=>{try{await A(),N.push("/login")}catch(e){console.error("登出失敗:",e)}};return P?(0,s.jsx)("header",{className:"fixed top-0 left-0 right-0 z-50 h-20 border-b border-gray-200 bg-white/80 backdrop-blur-sm dark:border-gray-700 dark:bg-gray-900/80",children:(0,s.jsxs)("div",{className:"flex h-full items-center justify-between px-4 lg:px-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("button",{onClick:M,className:(0,x.cn)("flex h-10 w-10 items-center justify-center rounded-lg text-gray-600 transition-colors",n?"bg-gray-100 dark:bg-gray-800":"hover:bg-gray-100 dark:hover:bg-gray-800"),"aria-label":"切換側邊欄",children:(0,s.jsx)(p,{isOpen:e,className:"h-5 w-5"})}),(0,s.jsxs)(g(),{href:"/",className:"flex items-center gap-2 text-xl lg:text-2xl font-bold text-gray-900 dark:text-white hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:[(0,s.jsx)(j,{className:"h-8 w-8 lg:h-9 lg:w-9"}),(0,s.jsx)("span",{children:"EchoMind"})]})]}),(0,s.jsx)("div",{className:"flex items-center gap-3",children:(0,s.jsx)("div",{className:"animate-pulse h-10 w-10 rounded-full bg-gray-200 dark:bg-gray-700"})})]})}):(0,s.jsx)("header",{className:"fixed top-0 left-0 right-0 z-50 h-20 border-b border-gray-200 bg-white/80 backdrop-blur-sm dark:border-gray-700 dark:bg-gray-900/80",children:(0,s.jsxs)("div",{className:"flex h-full items-center justify-between px-4 lg:px-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("button",{onClick:M,className:(0,x.cn)("flex h-10 w-10 items-center justify-center rounded-lg text-gray-600 transition-colors",n?"bg-gray-100 dark:bg-gray-800":"hover:bg-gray-100 dark:hover:bg-gray-800"),"aria-label":"切換側邊欄",children:(0,s.jsx)(p,{isOpen:e,className:"h-5 w-5"})}),(0,s.jsxs)(g(),{href:"/",className:"flex items-center gap-2 text-xl lg:text-2xl font-bold text-gray-900 dark:text-white hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:[(0,s.jsx)(j,{className:"h-8 w-8 lg:h-9 lg:w-9"}),(0,s.jsx)("span",{children:"EchoMind"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("button",{onClick:()=>a("dark"===t?"light":"dark"),className:"flex h-10 w-10 items-center justify-center rounded-lg text-gray-600 transition-colors hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800",children:[(0,s.jsx)(i.A,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,s.jsx)(l.A,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"})]}),C?(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("button",{onClick:()=>k(!w),className:"flex h-10 w-10 items-center justify-center overflow-hidden rounded-full border-2 border-gray-200 hover:border-blue-500 dark:border-gray-700 dark:hover:border-blue-400",children:C.photoURL?(0,s.jsx)(y.default,{src:C.photoURL,alt:C.displayName||"用戶頭像",width:32,height:32,className:"h-full w-full object-cover"}):(0,s.jsx)("div",{className:"flex h-full w-full items-center justify-center bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-300",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"h-6 w-6",children:(0,s.jsx)("path",{fill:"currentColor",d:"M13 3c3.88 0 7 3.14 7 7c0 2.8-1.63 5.19-4 6.31V21H9v-3H8c-1.11 0-2-.89-2-2v-3H4.5c-.42 0-.66-.5-.42-.81L6 9.66A7.003 7.003 0 0 1 13 3m0-2C8.41 1 4.61 4.42 4.06 8.9L2.5 11h-.03l-.02.03c-.55.76-.62 1.76-.19 2.59c.36.69 1 1.17 1.74 1.32V16c0 1.85 1.28 3.42 3 3.87V23h11v-5.5c2.5-1.67 4-4.44 4-7.5c0-4.97-4.04-9-9-9m4.33 8.3l-1.96.51l1.44 1.46c.35.34.35.92 0 1.27s-.93.35-1.27 0l-1.45-1.44l-.52 1.96c-.12.49-.61.76-1.07.64a.91.91 0 0 1-.66-1.11l.53-1.96l-1.96.53a.91.91 0 0 1-1.11-.66c-.12-.45.16-.95.64-1.07l1.96-.52l-1.44-1.45a.9.9 0 0 1 1.27-1.27l1.46 1.44l.51-1.96c.12-.49.62-.77 1.09-.64c.49.13.77.62.64 1.1L14.9 8.1l1.97-.53c.48-.13.97.15 1.1.64c.13.47-.15.97-.64 1.09"})})})}),w&&(0,s.jsxs)("div",{className:"absolute right-0 mt-2 w-48 rounded-lg border border-gray-200 bg-white py-2 shadow-lg dark:border-gray-700 dark:bg-gray-800",children:[(0,s.jsxs)("div",{className:"px-4 py-2",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:C.displayName||"用戶"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:C.email})]}),(0,s.jsx)("div",{className:"h-px bg-gray-200 dark:bg-gray-700"}),(0,s.jsxs)("button",{onClick:()=>{k(!1),N.push("/profile")},className:"flex w-full items-center gap-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700",children:[(0,s.jsx)(c.A,{className:"h-4 w-4"}),"個人資料"]}),(0,s.jsxs)("button",{onClick:()=>{k(!1),N.push("/settings")},className:"flex w-full items-center gap-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700",children:[(0,s.jsx)(d.A,{className:"h-4 w-4"}),"設定"]}),(0,s.jsx)("div",{className:"h-px bg-gray-200 dark:bg-gray-700"}),(0,s.jsxs)("button",{onClick:()=>{k(!1),L()},className:"flex w-full items-center gap-2 px-4 py-2 text-sm text-red-600 hover:bg-gray-100 dark:text-red-400 dark:hover:bg-gray-700",children:[(0,s.jsx)(h.A,{className:"h-4 w-4"}),"登出"]})]})]}):(0,s.jsxs)(g(),{href:"/login",className:(0,x.cn)("flex items-center gap-2","px-4 py-2 lg:px-6 lg:py-2.5","bg-gradient-to-r from-amber-500 via-orange-500 to-rose-500","hover:from-amber-600 hover:via-orange-600 hover:to-rose-600","dark:from-amber-400 dark:via-orange-400 dark:to-rose-400","dark:hover:from-amber-500 dark:hover:via-orange-500 dark:hover:to-rose-500","text-white rounded-lg","transition-all duration-300 ease-in-out","transform hover:scale-105 active:scale-95","shadow-md hover:shadow-lg","hover:shadow-orange-500/20 dark:hover:shadow-orange-400/20"),children:[(0,s.jsx)(f,{className:"h-5 w-5 lg:h-6 lg:w-6"}),(0,s.jsx)("span",{className:"hidden sm:inline font-medium",children:"登入"})]})]})]})})};var k=t(58887),N=t(65668),C=t(11860),P=t(48730);let A=[{id:1,title:"關於 AI 的討論",time:"3 小時前"},{id:2,title:"如何學習程式設計",time:"昨天"},{id:3,title:"探討未來科技趨勢",time:"2 天前"}],M=[{icon:()=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"h-6 w-6",children:(0,s.jsx)("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M9 12h3m3 0h-3m0 0V9m0 3v3m0 7c5.523 0 10-4.477 10-10S17.523 2 12 2S2 6.477 2 12c0 1.821.487 3.53 1.338 5L2.5 21.5l4.5-.838A9.96 9.96 0 0 0 12 22"})}),label:"開啟新對話",href:"/"},{icon:()=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:"h-6 w-6",children:[(0,s.jsx)("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M22 12c0-5.523-4.477-10-10-10a9.97 9.97 0 0 0-7 2.859V3.75a.75.75 0 0 0-1.5 0v3.5c0 .414.336.75.75.75h3.5a.75.75 0 0 0 0-1.5H5.519a8.5 8.5 0 1 1 2.348 12.93l-.27-.15l-3.986 1.111l1.113-3.984l-.151-.27A8.46 8.46 0 0 1 3.5 12c0-.675.079-1.332.227-1.962c.08-.301.065-.888-.536-1.02c-.613-.134-.87.355-.935.719h.001A10 10 0 0 0 2 12a9.96 9.96 0 0 0 1.115 4.592l-1.068 3.823a1.25 1.25 0 0 0 1.54 1.54l3.826-1.067A9.96 9.96 0 0 0 12 22c5.523 0 10-4.477 10-10"}),(0,s.jsx)("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M11.25 8a.75.75 0 0 0-.75.75v4.5c0 .414.336.75.75.75h3a.75.75 0 0 0 0-1.5H12V8.75a.75.75 0 0 0-.75-.75"})]}),label:"聊天歷史",href:"#"},{icon:k.A,label:"匿名留言板",href:"#"},{icon:()=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"128",height:"128",viewBox:"0 0 20 20",className:"h-6 w-6",children:(0,s.jsx)("path",{fill:"currentColor",d:"M7.5 4a5.5 5.5 0 1 0 0 11h5a5.5 5.5 0 1 0 0-11zM6 7.5a.5.5 0 0 1 1 0V9h1.5a.5.5 0 0 1 0 1H7v1.5a.5.5 0 0 1-1 0V10H4.5a.5.5 0 0 1 0-1H6zm9 .5a1 1 0 1 1-2 0a1 1 0 0 1 2 0m-3 4a1 1 0 1 1 0-2a1 1 0 0 1 0 2"})}),label:"小遊戲",href:"#"}],L=[{icon:N.A,label:"幫助",href:"#"},{icon:d.A,label:"設定",href:"#"}],S=({isOpen:e,onClose:r})=>{let t=(0,v.usePathname)(),a=({item:r})=>{let a=r.icon,o=t===r.href;return(0,s.jsxs)(g(),{href:r.href,className:(0,x.cn)("flex items-center gap-3 rounded-lg px-3 py-2 transition-all",o&&"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-gray-50",!o&&"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-50"),children:["function"==typeof a?(0,s.jsx)(a,{className:"h-6 w-6"}):n().createElement(a,{className:"h-6 w-6"}),(0,s.jsx)("span",{className:(0,x.cn)("font-medium transition-all duration-300",!e&&"lg:hidden"),children:r.label})]})};return(0,s.jsxs)(s.Fragment,{children:[e&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40 lg:hidden",onClick:r}),(0,s.jsxs)("aside",{className:(0,x.cn)("fixed top-20 bottom-0 left-0 z-50","w-64 bg-white dark:bg-gray-900","border-r border-gray-200 dark:border-gray-700","transition-all duration-300 ease-in-out","flex flex-col",e?"translate-x-0":"-translate-x-full lg:translate-x-0",!e&&"lg:w-20"),children:[(0,s.jsx)("button",{onClick:r,className:"absolute right-4 top-4 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 lg:hidden",children:(0,s.jsx)(C.A,{className:"h-5 w-5 text-gray-600 dark:text-gray-300"})}),(0,s.jsxs)("nav",{className:"flex-1 space-y-6 p-4 overflow-y-auto",children:[(0,s.jsx)("div",{className:"space-y-1",children:M.map(e=>(0,s.jsx)(a,{item:e},e.href))}),(0,s.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 my-2"}),(0,s.jsxs)("div",{className:(0,x.cn)("space-y-2",!e&&"lg:hidden"),children:[(0,s.jsx)("div",{className:"flex items-center justify-between px-4 py-2",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-600 dark:text-gray-400",children:[(0,s.jsx)(P.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"最近對話"})]})}),(0,s.jsx)("div",{className:"space-y-1",children:A.map(e=>(0,s.jsxs)(g(),{href:"#",className:"flex flex-col px-4 py-2 text-sm rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",children:[(0,s.jsx)("span",{className:"font-medium text-gray-700 dark:text-gray-300 truncate",children:e.title}),(0,s.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.time})]},e.id))})]})]}),(0,s.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4 space-y-1",children:L.map(e=>(0,s.jsx)(a,{item:e},e.href))})]})]})};function T({children:e}){let[r,t]=(0,o.useState)(!1);return(0,s.jsxs)("div",{className:"min-h-screen bg-white dark:bg-gray-900",children:[(0,s.jsx)(w,{onToggleSidebar:()=>t(!r),isSidebarOpen:r}),(0,s.jsx)(S,{isOpen:r,onClose:()=>t(!1)}),(0,s.jsx)("main",{className:(0,x.cn)("pt-20 transition-all duration-300",r?"lg:pl-64":"lg:pl-20"),children:e})]})}var E=t(52581);function U({children:e}){return(0,s.jsx)(a.ThemeProvider,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,children:(0,s.jsxs)(b.AuthProvider,{children:[(0,s.jsx)(T,{children:e}),(0,s.jsx)(E.Toaster,{richColors:!0,position:"top-right"})," "]})})}t(57005)},29131:(e,r,t)=>{"use strict";t.d(r,{AuthProvider:()=>a});var s=t(12907);(0,s.registerClientReference)(function(){throw Error("Attempted to call useAuth() from the server but useAuth is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\User\\echomind2\\src\\contexts\\AuthContext.tsx","useAuth");let a=(0,s.registerClientReference)(function(){throw Error("Attempted to call AuthProvider() from the server but AuthProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\User\\echomind2\\src\\contexts\\AuthContext.tsx","AuthProvider")},29583:(e,r,t)=>{Promise.resolve().then(t.bind(t,6931)),Promise.resolve().then(t.bind(t,58146)),Promise.resolve().then(t.bind(t,94555)),Promise.resolve().then(t.bind(t,29131))},30845:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,4536,23))},33784:(e,r,t)=>{"use strict";t.d(r,{j:()=>i});var s=t(67989),a=t(86319),o=t(75535);let n=(0,s.Dk)().length?(0,s.Dk)()[0]:(0,s.Wp)({apiKey:"AIzaSyCaDYOtTLe1iEMISjyohHSiTTkJ94mkGeg",authDomain:"echomind2-afcdb.firebaseapp.com",projectId:"echomind2-afcdb",storageBucket:"echomind2-afcdb.firebasestorage.app",messagingSenderId:"378106540923",appId:"1:378106540923:web:f9fe5d7cf1cf8827a343de"}),i=(0,a.xI)(n);(0,o.aU)(n)},37831:(e,r,t)=>{Promise.resolve().then(t.bind(t,52581)),Promise.resolve().then(t.bind(t,23532)),Promise.resolve().then(t.bind(t,41465)),Promise.resolve().then(t.bind(t,7901))},41465:(e,r,t)=>{"use strict";t.d(r,{ThemeProvider:()=>o});var s=t(60687);t(43210);var a=t(10218);function o({children:e,...r}){return(0,s.jsx)(a.N,{...r,children:e})}},49871:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,86346,23)),Promise.resolve().then(t.t.bind(t,27924,23)),Promise.resolve().then(t.t.bind(t,35656,23)),Promise.resolve().then(t.t.bind(t,40099,23)),Promise.resolve().then(t.t.bind(t,38243,23)),Promise.resolve().then(t.t.bind(t,28827,23)),Promise.resolve().then(t.t.bind(t,62763,23)),Promise.resolve().then(t.t.bind(t,97173,23))},54413:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n});var s=t(37413),a=t(4536),o=t.n(a);function n(){return(0,s.jsx)("div",{className:"flex h-[calc(100vh-4rem)] flex-col items-center justify-center",children:(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,s.jsx)("div",{className:"relative h-24 w-24",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"96",height:"96",viewBox:"0 0 24 24",className:"text-gray-400 dark:text-gray-500",children:(0,s.jsx)("path",{fill:"currentColor",d:"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10s10-4.477 10-10S17.523 2 12 2m0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8s8 3.589 8 8s-3.589 8-8 8m3.707-11.707a.999.999 0 0 0-1.414 0L12 10.586l-2.293-2.293a.999.999 0 1 0-1.414 1.414L10.586 12l-2.293 2.293a.999.999 0 1 0 1.414 1.414L12 13.414l2.293 2.293a.999.999 0 1 0 1.414-1.414L13.414 12l2.293-2.293a.999.999 0 0 0 0-1.414"})})}),(0,s.jsx)("h1",{className:"text-4xl font-bold text-gray-900 dark:text-gray-100",children:"404"}),(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300",children:"頁面開發中"}),(0,s.jsxs)("p",{className:"text-center text-gray-600 dark:text-gray-400",children:["抱歉，您訪問的頁面正在開發中。",(0,s.jsx)("br",{}),"請稍後再試或返回首頁。"]}),(0,s.jsx)(o(),{href:"/",className:"mt-4 rounded-lg bg-blue-600 px-4 py-2 text-white transition-colors hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600",children:"返回首頁"})]})})}},57005:(e,r,t)=>{"use strict";t.d(r,{Ph:()=>o,Wq:()=>i,XL:()=>c,_h:()=>l,eg:()=>n});var s=t(86319),a=t(33784);let o=e=>(0,s.hg)(a.j,r=>{e(r)}),n=async(e,r)=>{try{if(!a.j.currentUser)throw Error("沒有登入的用戶");await (0,s.r7)(a.j.currentUser,{displayName:e,photoURL:r})}catch(e){throw console.error("更新用戶資料失敗:",e),e}},i=async(e,r)=>{try{return await (0,s.eJ)(a.j,e,r)}catch(e){throw console.error("電子郵件註冊失敗:",e),e}},l=async(e,r)=>{try{return await (0,s.x9)(a.j,e,r)}catch(e){throw console.error("電子郵件登入失敗:",e),e}},c=async()=>{try{let e=new s.HF;return await (0,s.df)(a.j,e)}catch(e){throw console.error("Google 登入失敗:",e),e}}},58146:(e,r,t)=>{"use strict";t.d(r,{default:()=>s});let s=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\User\\\\echomind2\\\\src\\\\components\\\\layout\\\\RootClientLayout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\User\\echomind2\\src\\components\\layout\\RootClientLayout.tsx","default")},58461:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,85814,23))},61135:()=>{},70440:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});var s=t(31658);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},94431:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>h,metadata:()=>d});var s=t(37413),a=t(85041),o=t.n(a);t(61135);var n=t(58146),i=t(29131),l=t(6931),c=t(94555);let d={title:"EchoMind",description:"Your AI Assistant",icons:{icon:[{url:'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48"><g fill="none"><path stroke="%23fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M12 8c-3.052 4.517-5.987 5.81-8 5c.543 1.833 4.443 4.375 6.927 5.838c1.07.63 1.383 2.065.638 3.059C10.202 23.717 8.315 26.289 8 27C.954 39.79 16.482 44.648 24 44c22.144-1.908 21.355-19.197 18-26c-8.052 13.994-20.481 5.915-20 3s3.792-2.335 5-7C29.013 4.768 16.374.399 12 8"/><path stroke="%23fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M19 31c2.5 3.5 10 7 16 2"/><circle cx="17" cy="12" r="2" fill="%23fff"/></g></svg>',type:"image/svg+xml",sizes:"48x48"}],shortcut:[{url:'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48"><g fill="none"><path stroke="%23fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M12 8c-3.052 4.517-5.987 5.81-8 5c.543 1.833 4.443 4.375 6.927 5.838c1.07.63 1.383 2.065.638 3.059C10.202 23.717 8.315 26.289 8 27C.954 39.79 16.482 44.648 24 44c22.144-1.908 21.355-19.197 18-26c-8.052 13.994-20.481 5.915-20 3s3.792-2.335 5-7C29.013 4.768 16.374.399 12 8"/><path stroke="%23fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M19 31c2.5 3.5 10 7 16 2"/><circle cx="17" cy="12" r="2" fill="%23fff"/></g></svg>',type:"image/svg+xml",sizes:"48x48"}]}};function h({children:e}){return(0,s.jsx)("html",{lang:"zh-TW",suppressHydrationWarning:!0,children:(0,s.jsx)("body",{className:`${o().className} antialiased`,children:(0,s.jsx)(c.ThemeProvider,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,children:(0,s.jsxs)(i.AuthProvider,{children:[(0,s.jsx)(n.default,{children:e}),(0,s.jsx)(l.Toaster,{richColors:!0,position:"top-right"})]})})})})}},94555:(e,r,t)=>{"use strict";t.d(r,{ThemeProvider:()=>s});let s=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call ThemeProvider() from the server but ThemeProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\User\\echomind2\\src\\components\\providers\\ThemeProvider.tsx","ThemeProvider")},96727:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,16444,23)),Promise.resolve().then(t.t.bind(t,16042,23)),Promise.resolve().then(t.t.bind(t,88170,23)),Promise.resolve().then(t.t.bind(t,49477,23)),Promise.resolve().then(t.t.bind(t,29345,23)),Promise.resolve().then(t.t.bind(t,12089,23)),Promise.resolve().then(t.t.bind(t,46577,23)),Promise.resolve().then(t.t.bind(t,31307,23))}};